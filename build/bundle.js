!function(t){function __webpack_require__(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,__webpack_require__),r.l=!0,r.exports}var e={};__webpack_require__.m=t,__webpack_require__.c=e,__webpack_require__.i=function(t){return t},__webpack_require__.d=function(t,e,n){__webpack_require__.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},__webpack_require__.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return __webpack_require__.d(e,"a",e),e},__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.p="/",__webpack_require__(__webpack_require__.s=39)}([function(t,e,n){var r;!function(i,o){"use strict";function mkitem(t,e,n){var r={};return r[t.key]=e,t.pos&&(r[t.pos]=n),r}function unmountRedundant(t,e){for(var n,r=e.length,i=t.length;r>i;)n=e[--r],e.splice(r,1),n.unmount()}function moveNestedTags(t,e){Object.keys(t.tags).forEach(function(n){var r=t.tags[n];isArray(r)?each(r,function(t){moveChildTag(t,n,e)}):moveChildTag(r,n,e)})}function addVirtual(t,e,n){var r,i=t._root;for(t._virts=[];i;)r=i.nextSibling,n?e.insertBefore(i,n._root):e.appendChild(i),t._virts.push(i),i=r}function moveVirtual(t,e,n,r){for(var i,o=t._root,a=0;a<r;a++)i=o.nextSibling,e.insertBefore(o,n._root),o=i}function insertTag(t,e,n,r,i,o,a){isInStub(e.root)||(t?o(e,r,n,a.childNodes.length):r.insertBefore(e.root,n.root))}function _each(t,e,n){remAttr(t,"each");var r,i=typeof getAttr(t,"no-reorder")!==h||remAttr(t,"no-reorder"),o=getTagName(t),a=c[o]||{tmpl:getOuterHTML(t)},s=b.test(o),u=t.parentNode,l=document.createTextNode(""),f=getTag(t),d="option"===o.toLowerCase(),p=[],m=[],_="VIRTUAL"==t.tagName;n=O.loopKeys(n),u.insertBefore(l,t),e.one("before-mount",function(){t.parentNode.removeChild(t),u.stub&&(u=e.root)}).on("update",function(){var h=O(n.val,e),v=document.createDocumentFragment();isArray(h)||(r=h||!1,h=r?Object.keys(h).map(function(t){return mkitem(n,t,h[t])}):[]);for(var w=0,b=h.length;w<b;w++){var y=h[w],x=i&&typeof y==g&&!r,E=m.indexOf(y),R=~E&&x?E:w,N=p[R];y=!r&&n.key?mkitem(n,y,w):y,!x&&!N||x&&!~E||!N?(N=new Tag(a,{parent:e,isLoop:!0,hasImpl:!!c[o],root:s?u:t.cloneNode(),item:y},t.innerHTML),N.mount(),_&&(N._root=N.root.firstChild),w!=p.length&&p[w]?(insertTag(_,N,p[w],u,p,addVirtual,t),m.splice(w,0,y)):_?addVirtual(N,v):v.appendChild(N.root),p.splice(w,0,N),R=w):N.update(y,!0),R!==w&&x&&p[w]&&(contains(h,m[w])&&insertTag(_,N,p[w],u,p,moveVirtual,t),n.pos&&(N[n.pos]=w),p.splice(w,0,p.splice(R,1)[0]),m.splice(w,0,m.splice(R,1)[0]),!f&&N.tags&&moveNestedTags(N,w)),N._item=y,defineProperty(N,"_parent",e)}if(unmountRedundant(h,p),u.insertBefore(v,l),d&&T&&!u.multiple)for(var I=0;I<u.length;I++)if(u[I].__riot1374){u.selectedIndex=I,delete u[I].__riot1374;break}f&&(e.tags[o]=p),m=h.slice()})}function parseNamedElements(t,e,n,r){walk(t,function(t){if(1==t.nodeType){if(t.isLoop=t.isLoop||t.parentNode&&t.parentNode.isLoop||getAttr(t,"each")?1:0,n){var i=getTag(t);i&&!t.isLoop&&n.push(initChildTag(i,{root:t,parent:e},t.innerHTML,e))}t.isLoop&&!r||setNamed(t,e,[])}})}function parseExpressions(t,e,n){function addExpr(t,e,r){O.hasExpr(e)&&n.push(extend({dom:t,expr:e},r))}walk(t,function(t){var n,r=t.nodeType;if(3==r&&"STYLE"!=t.parentNode.tagName&&addExpr(t,t.nodeValue),1==r)return(n=getAttr(t,"each"))?(_each(t,e,n),!1):(each(t.attributes,function(e){var n=e.name,r=n.split("__")[1];if(addExpr(t,e.value,{attr:r||n,bool:r}),r)return remAttr(t,n),!1}),!getTag(t)&&void 0)})}function Tag(t,e,n){function updateOpts(){var t=_&&g?i:f||i;each(x.attributes,function(e){var n=e.value;c[toCamel(e.name)]=O.hasExpr(n)?O(n,t):n}),each(Object.keys(T),function(e){c[toCamel(e)]=O(T[e],t)})}function normalizeData(t){for(var e in v)typeof i[e]!==m&&isWritable(i,e)&&(i[e]=t[e])}function inheritFrom(t){each(Object.keys(t),function(e){var n=!y.test(e)&&contains(R,e);(typeof i[e]===m||n)&&(n||R.push(e),i[e]=t[e])})}function onChildUpdate(t){i.update(t,!0)}function toggle(t){if(each(b,function(e){e[t?"mount":"unmount"]()}),f){var e=t?"on":"off";g?f[e]("unmount",i.unmount):f[e]("update",onChildUpdate)[e]("unmount",i.unmount)}}var r,i=a.observable(this),c=inherit(e.opts)||{},f=e.parent,g=e.isLoop,_=e.hasImpl,v=cleanUpData(e.item),w=[],b=[],x=e.root,E=x.tagName.toLowerCase(),T={},R=[];t.name&&x._tag&&x._tag.unmount(!0),this.isMounted=!1,x.isLoop=g,x._tag=this,defineProperty(this,"_riot_id",++s),extend(this,{parent:f,root:x,opts:c},v),defineProperty(this,"tags",{}),each(x.attributes,function(t){var e=t.value;O.hasExpr(e)&&(T[t.name]=e)}),r=N(t.tmpl,n,g),defineProperty(this,"update",function(t,e){return t=cleanUpData(t),g&&inheritFrom(i.parent),t&&isObject(v)&&(normalizeData(t),v=t),extend(i,t),updateOpts(),i.trigger("update",t),update(w,i),e&&i.parent?i.parent.one("updated",function(){i.trigger("updated")}):C(function(){i.trigger("updated")}),this}),defineProperty(this,"mixin",function(){return each(arguments,function(t){var e,n,r=[];t=typeof t===h?a.mixin(t):t,e=isFunction(t)?new t:t;var o=Object.getPrototypeOf(e);do{r=r.concat(Object.getOwnPropertyNames(n||e))}while(n=Object.getPrototypeOf(n||e));each(r,function(t){if("init"!=t){var n=Object.getOwnPropertyDescriptor(e,t)||Object.getOwnPropertyDescriptor(o,t),r=n&&(n.get||n.set);!i.hasOwnProperty(t)&&r?Object.defineProperty(i,t,n):i[t]=isFunction(e[t])?e[t].bind(i):e[t]}}),e.init&&e.init.bind(i)()}),this}),defineProperty(this,"mount",function(){updateOpts();var e=a.mixin(l);if(e)for(var n in e)e.hasOwnProperty(n)&&i.mixin(e[n]);if(i._parent&&i._parent.root.isLoop&&inheritFrom(i._parent),t.fn&&t.fn.call(i,c),parseExpressions(r,i,w),toggle(!0),t.attrs&&walkAttributes(t.attrs,function(t,e){setAttr(x,t,e)}),(t.attrs||_)&&parseExpressions(i.root,i,w),i.parent&&!g||i.update(v),i.trigger("before-mount"),g&&!_)x=r.firstChild;else{for(;r.firstChild;)x.appendChild(r.firstChild);x.stub&&(x=f.root)}defineProperty(i,"root",x),g&&parseNamedElements(i.root,i.parent,null,!0),!i.parent||i.parent.isMounted?(i.isMounted=!0,i.trigger("mount")):i.parent.one("mount",function(){isInStub(i.root)||(i.parent.isMounted=i.isMounted=!0,i.trigger("mount"))})}),defineProperty(this,"unmount",function(t){var e,n=x,r=n.parentNode,a=u.indexOf(i);if(i.trigger("before-unmount"),~a&&u.splice(a,1),r){if(f)e=getImmediateCustomParentTag(f),isArray(e.tags[E])?each(e.tags[E],function(t,n){t._riot_id==i._riot_id&&e.tags[E].splice(n,1)}):e.tags[E]=o;else for(;n.firstChild;)n.removeChild(n.firstChild);t?(remAttr(r,p),remAttr(r,d)):r.removeChild(n)}this._virts&&each(this._virts,function(t){t.parentNode&&t.parentNode.removeChild(t)}),i.trigger("unmount"),toggle(),i.off("*"),i.isMounted=!1,delete x._tag}),parseNamedElements(r,this,b)}function setEventHandler(t,e,n,r){n[t]=function(t){var o,a=r._parent,s=r._item;if(!s)for(;a&&!s;)s=a._item,a=a._parent;t=t||i.event,isWritable(t,"currentTarget")&&(t.currentTarget=n),isWritable(t,"target")&&(t.target=t.srcElement),isWritable(t,"which")&&(t.which=t.charCode||t.keyCode),t.item=s,!0===e.call(r,t)||/radio|check/.test(n.type)||(t.preventDefault&&t.preventDefault(),t.returnValue=!1),t.preventUpdate||(o=s?getImmediateCustomParentTag(a):r,o.update())}}function insertTo(t,e,n){t&&(t.insertBefore(n,e),t.removeChild(e))}function update(t,e){each(t,function(t,n){var r=t.dom,i=t.attr,o=O(t.expr,e),a=t.parent||t.dom.parentNode;if(t.bool?o=!!o:null==o&&(o=""),t.value!==o){if(t.value=o,!i)return o+="",void(a&&(t.parent=a,"TEXTAREA"===a.tagName?(a.value=o,E||(r.nodeValue=o)):r.nodeValue=o));if("value"===i)return void(r.value!==o&&(r.value=o,setAttr(r,i,o)));if(remAttr(r,i),isFunction(o))setEventHandler(i,o,r,e);else if("if"==i){var s=t.stub,u=function(){insertTo(r.parentNode,r,s)};o?s&&(!function(){insertTo(s.parentNode,s,r)}(),r.inStub=!1,isInStub(r)||walk(r,function(t){t._tag&&!t._tag.isMounted&&(t._tag.isMounted=!!t._tag.trigger("mount"))})):(s=t.stub=s||document.createTextNode(""),r.parentNode?u():(e.parent||e).one("updated",u),r.inStub=!0)}else"show"===i?r.style.display=o?"":"none":"hide"===i?r.style.display=o?"none":"":t.bool?(r[i]=o,o&&setAttr(r,i,i),T&&"selected"===i&&"OPTION"===r.tagName&&(r.__riot1374=o)):(0===o||o&&typeof o!==g)&&(startsWith(i,f)&&i!=d&&(i=i.slice(f.length)),setAttr(r,i,o))}})}function each(t,e){for(var n,r=t?t.length:0,i=0;i<r;i++)null!=(n=t[i])&&!1===e(n,i)&&i--;return t}function isFunction(t){return typeof t===_||!1}function getOuterHTML(t){if(t.outerHTML)return t.outerHTML;var e=mkEl("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}function setInnerHTML(t,e){if(typeof t.innerHTML!=m)t.innerHTML=e;else{var n=(new DOMParser).parseFromString(e,"application/xml");t.appendChild(t.ownerDocument.importNode(n.documentElement,!0))}}function isSVGTag(t){return~x.indexOf(t)}function isObject(t){return t&&typeof t===g}function remAttr(t,e){t.removeAttribute(e)}function toCamel(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})}function getAttr(t,e){return t.getAttribute(e)}function setAttr(t,e,n){var r=w.exec(e);r&&r[1]?t.setAttributeNS(v,r[1],n):t.setAttribute(e,n)}function getTag(t){return t.tagName&&c[getAttr(t,p)||getAttr(t,d)||t.tagName.toLowerCase()]}function addChildTag(t,e,n){var r=n.tags[e];r?(isArray(r)||r!==t&&(n.tags[e]=[r]),contains(n.tags[e],t)||n.tags[e].push(t)):n.tags[e]=t}function moveChildTag(t,e,n){var r,i=t.parent;i&&(r=i.tags[e],isArray(r)?r.splice(n,0,r.splice(r.indexOf(t),1)[0]):addChildTag(t,e,i))}function initChildTag(t,e,n,r){var i=new Tag(t,e,n),o=getTagName(e.root),a=getImmediateCustomParentTag(r);return i.parent=a,i._parent=r,addChildTag(i,o,a),a!==r&&addChildTag(i,o,r),e.root.innerHTML="",i}function getImmediateCustomParentTag(t){for(var e=t;!getTag(e.root)&&e.parent;)e=e.parent;return e}function defineProperty(t,e,n,r){return Object.defineProperty(t,e,extend({value:n,enumerable:!1,writable:!1,configurable:!0},r)),t}function getTagName(t){var e=getTag(t),n=getAttr(t,"name");return n&&!O.hasExpr(n)?n:e?e.name:t.tagName.toLowerCase()}function extend(t){for(var e,n=arguments,r=1;r<n.length;++r)if(e=n[r])for(var i in e)isWritable(t,i)&&(t[i]=e[i]);return t}function contains(t,e){return~t.indexOf(e)}function isArray(t){return Array.isArray(t)||t instanceof Array}function isWritable(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return typeof t[e]===m||n&&n.writable}function cleanUpData(t){if(!(t instanceof Tag||t&&typeof t.trigger==_))return t;var e={};for(var n in t)y.test(n)||(e[n]=t[n]);return e}function walk(t,e){if(t){if(!1===e(t))return;for(t=t.firstChild;t;)walk(t,e),t=t.nextSibling}}function walkAttributes(t,e){for(var n,r=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g;n=r.exec(t);)e(n[1].toLowerCase(),n[2]||n[3]||n[4])}function isInStub(t){for(;t;){if(t.inStub)return!0;t=t.parentNode}return!1}function mkEl(t,e){return e?document.createElementNS("http://www.w3.org/2000/svg","svg"):document.createElement(t)}function $$(t,e){return(e||document).querySelectorAll(t)}function $(t,e){return(e||document).querySelector(t)}function inherit(t){return Object.create(t||null)}function getNamedKey(t){return getAttr(t,"id")||getAttr(t,"name")}function setNamed(t,e,n){var r,i=getNamedKey(t),o=function(o){contains(n,i)||(r=isArray(o),o?(!r||r&&!contains(o,t))&&(r?o.push(t):e[i]=[o,t]):e[i]=t)};i&&(O.hasExpr(i)?e.one("mount",function(){i=getNamedKey(t),o(e[i])}):o(e[i]))}function startsWith(t,e){return t.slice(0,e.length)===e}function mountTo(t,e,n){var r=c[e],i=t._innerHTML=t._innerHTML||t.innerHTML;return t.innerHTML="",r&&t&&(r=new Tag(r,{root:t,opts:n},i)),r&&r.mount&&(r.mount(),contains(u,r)||u.push(r)),r}var a={version:"v2.6.7",settings:{}},s=0,u=[],c={},l="__global_mixin",f="riot-",d=f+"tag",p="data-is",h="string",g="object",m="undefined",_="function",v="http://www.w3.org/1999/xlink",w=/^xlink:(\w+)/,b=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,y=/^(?:_(?:item|id|parent)|update|root|(?:un)?mount|mixin|is(?:Mounted|Loop)|tags|parent|opts|trigger|o(?:n|ff|ne))$/,x=["altGlyph","animate","animateColor","circle","clipPath","defs","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","filter","font","foreignObject","g","glyph","glyphRef","image","line","linearGradient","marker","mask","missing-glyph","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","switch","symbol","text","textPath","tref","tspan","use"],E=0|(i&&i.document||{}).documentMode,T=i&&!!i.InstallTrigger;a.observable=function(t){function onEachEvent(t,e){for(var n=t.split(" "),r=n.length,i=0;i<r;i++){var o=n[i];o&&e(o,i)}}t=t||{};var e={},n=Array.prototype.slice;return Object.defineProperties(t,{on:{value:function(n,r){return"function"!=typeof r?t:(onEachEvent(n,function(t,n){(e[t]=e[t]||[]).push(r),r.typed=n>0}),t)},enumerable:!1,writable:!1,configurable:!1},off:{value:function(n,r){return"*"!=n||r?onEachEvent(n,function(t,n){if(r)for(var i,o=e[t],a=0;i=o&&o[a];++a)i==r&&o.splice(a--,1);else delete e[t]}):e={},t},enumerable:!1,writable:!1,configurable:!1},one:{value:function(e,n){function on(){t.off(e,on),n.apply(t,arguments)}return t.on(e,on)},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(r){for(var i,o=arguments.length-1,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+1];return onEachEvent(r,function(r,o){i=n.call(e[r]||[],0);for(var s,u=0;s=i[u];++u)s.busy||(s.busy=1,s.apply(t,s.typed?[r].concat(a):a),i[u]!==s&&u--,s.busy=0);e["*"]&&"*"!=r&&t.trigger.apply(t,["*",r].concat(a))}),t},enumerable:!1,writable:!1,configurable:!1}}),t},function(t){function DEFAULT_PARSER(t){return t.split(/[\/?#]/)}function DEFAULT_SECOND_PARSER(t,e){var n=new RegExp("^"+e[l](/\*/g,"([^/?#]+?)")[l](/\.\./,".*")+"$"),r=t.match(n);if(r)return r.slice(1)}function debounce(t,e){var n;return function(){clearTimeout(n),n=setTimeout(t,e)}}function start(t){e=debounce(emit,1),g[u](f,e),g[u](d,e),m[u](b,click),t&&emit(!0)}function Router(){this.$=[],t.observable(this),x.on("stop",this.s.bind(this)),x.on("emit",this.e.bind(this))}function normalize(t){return t[l](/^\/|\/$/,"")}function isString(t){return"string"==typeof t}function getPathFromRoot(t){return(t||v.href)[l](s,"")}function getPathFromBase(t){return"#"==n[0]?(t||v.href||"").split(n)[1]||"":(v?getPathFromRoot(t):t||"")[l](n,"")}function emit(t){var e,n=0==R;if(!(h<=R)&&(R++,T.push(function(){var e=getPathFromBase();(t||e!=r)&&(x[p]("emit",e),r=e)}),n)){for(;e=T.shift();)e();R=0}}function click(t){if(!(1!=t.which||t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented)){for(var e=t.target;e&&"A"!=e.nodeName;)e=e.parentNode;!e||"A"!=e.nodeName||e[c]("download")||!e[c]("href")||e.target&&"_self"!=e.target||-1==e.href.indexOf(v.href.match(s)[0])||e.href!=v.href&&(e.href.split("#")[0]==v.href.split("#")[0]||"#"!=n[0]&&0!==getPathFromRoot(e.href).indexOf(n)||"#"==n[0]&&e.href.split(n)[0]!=v.href.split(n)[0]||!go(getPathFromBase(e.href),e.title||m.title))||t.preventDefault()}}function go(t,e,r){return _?(t=n+normalize(t),e=e||m.title,r?_.replaceState(null,e,t):_.pushState(null,e,t),m.title=e,E=!1,emit(),E):x[p]("emit",getPathFromBase(t))}var e,n,r,o,a,s=/^.+?\/\/+[^\/]+/,u="addEventListener",c="hasAttribute",l="replace",f="popstate",d="hashchange",p="trigger",h=3,g=void 0!==i&&i,m="undefined"!=typeof document&&document,_=g&&history,v=g&&(_.location||g.location),w=Router.prototype,b=m&&m.ontouchstart?"touchstart":"click",y=!1,x=t.observable(),E=!1,T=[],R=0;w.m=function(t,e,n){!isString(t)||e&&!isString(e)?e?this.r(t,e):this.r("@",t):go(t,e,n||!1)},w.s=function(){this.off("*"),this.$=[]},w.e=function(t){this.$.concat("@").some(function(e){var n=("@"==e?o:a)(normalize(t),normalize(e));if(void 0!==n)return this[p].apply(null,[e].concat(n)),E=!0},this)},w.r=function(t,e){"@"!=t&&(t="/"+normalize(t),this.$.push(t)),this.on(t,e)};var O=new Router,N=O.m.bind(O);N.create=function(){var t=new Router,e=t.m.bind(t);return e.stop=t.s.bind(t),e},N.base=function(t){n=t||"#",r=getPathFromBase()},N.exec=function(){emit(!0)},N.parser=function(t,e){t||e||(o=DEFAULT_PARSER,a=DEFAULT_SECOND_PARSER),t&&(o=t),e&&(a=e)},N.query=function(){var t={};return(v.href||r)[l](/[?&](.+?)=([^&]*)/g,function(e,n,r){t[n]=r}),t},N.stop=function(){y&&(g&&(g.removeEventListener(f,e),g.removeEventListener(d,e),m.removeEventListener(b,click)),x[p]("stop"),y=!1)},N.start=function(t){y||(g&&("complete"==document.readyState?start(t):g[u]("load",function(){setTimeout(function(){start(t)},1)})),y=!0)},N.base(),N.parser(),t.route=N}(a);var R=function(t){function _loopback(t){return t}function _rewrite(t,e){return e||(e=p),new RegExp(t.source.replace(/{/g,e[2]).replace(/}/g,e[3]),t.global?r:"")}function _create(t){if(t===l)return f;var e=t.split(" ");if(2!==e.length||s.test(t))throw new Error('Unsupported brackets "'+t+'"');return e=e.concat(t.replace(u,"\\").split(" ")),e[4]=_rewrite(e[1].length>1?/{[\S\s]*?}/:f[4],e),e[5]=_rewrite(t.length>3?/\\({|})/g:f[5],e),e[6]=_rewrite(f[6],e),e[7]=RegExp("\\\\("+e[3]+")|([[({])|("+e[3]+")|"+o,r),e[8]=t,e}function _brackets(t){return t instanceof RegExp?e(t):p[t]}function _reset(t){(t||(t=l))!==p[8]&&(p=_create(t),e=t===l?_loopback:_rewrite,p[9]=e(f[9])),d=t}function _setSettings(t){var e;t=t||{},e=t.brackets,Object.defineProperty(t,"brackets",{set:_reset,get:function(){return d},enumerable:!0}),n=t,_reset(e)}var e,n,r="g",i=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'/g,o=i.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?(\/)[gim]*/.source,s=RegExp("[\\x00-\\x1F<>a-zA-Z0-9'\",;\\\\]"),u=/(?=[[\]()*+?.^$|])/g,c={"(":RegExp("([()])|"+o,r),"[":RegExp("([[\\]])|"+o,r),"{":RegExp("([{}])|"+o,r)},l="{ }",f=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+o,r),l,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],d=void 0,p=[];return _brackets.split=function(t,e,n){function unescapeStr(t){e||i?s.push(t&&t.replace(n[5],"$1")):s.push(t)}n||(n=p);var r,i,o,a,s=[],u=n[6];for(i=o=u.lastIndex=0;r=u.exec(t);){if(a=r.index,i){if(r[2]){u.lastIndex=function(t,e,n){var r,i=c[e];for(i.lastIndex=n,n=1;(r=i.exec(t))&&(!r[1]||(r[1]===e?++n:--n)););return n?t.length:i.lastIndex}(t,r[2],u.lastIndex);continue}if(!r[3])continue}r[1]||(unescapeStr(t.slice(o,a)),o=u.lastIndex,u=n[6+(i^=1)],u.lastIndex=o)}return t&&o<t.length&&unescapeStr(t.slice(o)),s},_brackets.hasExpr=function(t){return p[4].test(t)},_brackets.loopKeys=function(t){var e=t.match(p[9]);return e?{key:e[1],pos:e[2],val:p[0]+e[3].trim()+p[1]}:{val:t.trim()}},_brackets.array=function(t){return t?_create(t):p},Object.defineProperty(_brackets,"settings",{set:_setSettings,get:function(){return n}}),_brackets.settings=void 0!==a&&a.settings||{},_brackets.set=_reset,_brackets.R_STRINGS=i,_brackets.R_MLCOMMS=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,_brackets.S_QBLOCKS=o,_brackets}(),O=function(){function _tmpl(e,n){return e?(t[e]||(t[e]=_create(e))).call(n,_logErr):e}function _logErr(t,e){_tmpl.errorHandler&&(t.riotData={tagName:e&&e.root&&e.root.tagName,_riot_id:e&&e._riot_id},_tmpl.errorHandler(t))}function _create(t){var e=_getTmpl(t);return"try{return "!==e.slice(0,11)&&(e="return "+e),new Function("E",e+";")}function _getTmpl(t){var e,n=[],r=R.split(t.replace(o,'"'),1);if(r.length>2||r[0]){var i,s,u=[];for(i=s=0;i<r.length;++i)(e=r[i])&&(e=1&i?_parseExpr(e,1,n):'"'+e.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(u[s++]=e);e=s<2?u[0]:"["+u.join(",")+'].join("")'}else e=_parseExpr(r[1],0,n);return n[0]&&(e=e.replace(a,function(t,e){return n[e].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),e}function _parseExpr(t,i,o){if(t=t.replace(r,function(t,n){return t.length>2&&!n?e+(o.push(t)-1)+"~":t}).replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var a,u=[],c=0;t&&(a=t.match(n))&&!a.index;){var l,f,d=/,|([[{(])|$/g;for(t=RegExp.rightContext,l=a[2]?o[a[2]].slice(1,-1).trim().replace(/\s+/g," "):a[1];f=(a=d.exec(t))[1];)!function(e,n){var r,i=1,o=s[e];for(o.lastIndex=n.lastIndex;r=o.exec(t);)if(r[0]===e)++i;else if(!--i)break;n.lastIndex=i?t.length:o.lastIndex}(f,d);f=t.slice(0,a.index),t=RegExp.rightContext,u[c++]=_wrapExpr(f,1,l)}t=c?c>1?"["+u.join(",")+'].join(" ").trim()':u[0]:_wrapExpr(t,i)}return t}function _wrapExpr(t,e,n){var r;return t=t.replace(c,function(t,e,n,i,o){return n&&(i=r?0:i+t.length,"this"!==n&&"global"!==n&&"window"!==n?(t=e+'("'+n+u+n,i&&(r="."===(o=o[i])||"("===o||"["===o)):i&&(r=!l.test(o.slice(i)))),t}),r&&(t="try{return "+t+"}catch(e){E(e,this)}"),n?t=(r?"function(){"+t+"}.call(this)":"("+t+")")+'?"'+n+'":""':e&&(t="function(v){"+(r?t.replace("return ","v="):"v=("+t+")")+';return v||v===0?v:""}.call(this)'),t}var t={};_tmpl.haveRaw=R.hasRaw,_tmpl.hasExpr=R.hasExpr,_tmpl.loopKeys=R.loopKeys,_tmpl.clearCache=function(){t={}},_tmpl.errorHandler=null;var e=String.fromCharCode(8279),n=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,r=RegExp(R.S_QBLOCKS,"g"),o=/\u2057/g,a=/\u2057(\d+)~/g,s={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},u='"in this?this:'+("object"!=typeof i?"global":"window")+").",c=/[,{][\$\w]+(?=:)|(^ *|[^$\w\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,l=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;return _tmpl.version=R.version="v2.4.2",_tmpl}(),N=function(){function _mkdom(t,e,n){var r=t&&t.match(/^\s*<([-\w]+)/),i=r&&r[1].toLowerCase(),a=mkEl("div",n&&isSVGTag(i));return t=replaceYield(t,e),o.test(i)?a=specialTags(a,t,i):setInnerHTML(a,t),a.stub=!0,a}function specialTags(t,e,n){var r="o"===n[0],o=r?"select>":"table>";if(t.innerHTML="<"+o+e.trim()+"</"+o,o=t.firstChild,r)o.selectedIndex=-1;else{var a=i[n];a&&1===o.childElementCount&&(o=$(a,o))}return o}function replaceYield(i,o){if(!t.test(i))return i;var a={};return o=o&&o.replace(n,function(t,e,n){return a[e]=a[e]||n,""}).trim(),i.replace(r,function(t,e,n){return a[e]||n||""}).replace(e,function(t,e){return o||e||""})}var t=/<yield\b/i,e=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/gi,n=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi,r=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,i={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},o=E&&E<10?b:/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/;return _mkdom}(),I=function(t){if(!i)return{add:function(){},inject:function(){}};var e=function(){var t=mkEl("style");setAttr(t,"type","text/css");var e=$("style[type=riot]");return e?(e.id&&(t.id=e.id),e.parentNode.replaceChild(t,e)):document.getElementsByTagName("head")[0].appendChild(t),t}(),n=e.styleSheet,r="";return Object.defineProperty(t,"styleNode",{value:e,writable:!0}),{add:function(t){r+=t},inject:function(){r&&(n?n.cssText+=r:e.innerHTML+=r,r="")}}}(a),C=function(t){var e=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame;if(!e||/iP(ad|hone|od).*OS 6/.test(t.navigator.userAgent)){var n=0;e=function(t){var e=Date.now(),r=Math.max(16-(e-n),0);setTimeout(function(){t(n=e+r)},r)}}return e}(i||{});a.util={brackets:R,tmpl:O},a.mixin=function(){var t={},e=t[l]={},n=0;return function(r,i,o){if(isObject(r))return void a.mixin("__unnamed_"+n++,r,!0);var s=o?e:t;if(!i){if(typeof s[r]===m)throw new Error("Unregistered mixin: "+r);return s[r]}isFunction(i)?(extend(i.prototype,s[r]||{}),s[r]=i):s[r]=extend(s[r]||{},i)}}(),a.tag=function(t,e,n,r,i){return isFunction(r)&&(i=r,/^[\w\-]+\s?=/.test(n)?(r=n,n=""):r=""),n&&(isFunction(n)?i=n:I.add(n)),t=t.toLowerCase(),c[t]={name:t,tmpl:e,attrs:r,fn:i},t},a.tag2=function(t,e,n,r,i){return n&&I.add(n),c[t]={name:t,tmpl:e,attrs:r,fn:i},t},a.mount=function(t,e,n){function addRiotTags(t){var e="";return each(t,function(t){/[^-\w]/.test(t)||(t=t.trim().toLowerCase(),e+=",["+p+'="'+t+'"],['+d+'="'+t+'"]')}),e}function selectAllTags(){var t=Object.keys(c);return t+addRiotTags(t)}function pushTags(t){if(t.tagName){var r=getAttr(t,p)||getAttr(t,d);e&&r!==e&&(r=e,setAttr(t,p,e),setAttr(t,d,e));var i=mountTo(t,r||t.tagName.toLowerCase(),n);i&&o.push(i)}else t.length&&each(t,pushTags)}var r,i,o=[];if(I.inject(),isObject(e)&&(n=e,e=0),typeof t===h?("*"===t?t=i=selectAllTags():t+=addRiotTags(t.split(/, */)),r=t?$$(t):[]):r=t,"*"===e){if(e=i||selectAllTags(),r.tagName)r=$$(e,r);else{var a=[];each(r,function(t){a.push($$(e,t))}),r=a}e=0}return pushTags(r),o},a.update=function(){return each(u,function(t){t.update()})},a.vdom=u,a.Tag=Tag,typeof e===g?t.exports=a:"function"===_&&typeof n(37)!==m?(r=function(){return a}.call(e,n,e,t))!==o&&(t.exports=r):i.riot=a}("undefined"!=typeof window?window:void 0)},function(t,e,n){"use strict";t.exports={IN:"IN",OUT:"OUT",END:"END",PREV:"PREV",NEXT:"NEXT"}},function(t,e,n){"use strict";t.exports=function(t,e){var n=!0;return function(){if(n)return n=!1,setTimeout(function(){return n=!0},e),t.apply(this,arguments)}}},function(t,e,n){(function(t){!function(e){function merge_recursive(t,e){if("object"!==typeOf(t))return e;for(var n in e)"object"===typeOf(t[n])&&"object"===typeOf(e[n])?t[n]=merge_recursive(t[n],e[n]):t[n]=e[n];return t}function merge(t,e,r){var i=r[0],o=r.length;(t||"object"!==typeOf(i))&&(i={});for(var a=0;a<o;++a){var s=r[a];if("object"===typeOf(s))for(var u in s){var c=t?n.clone(s[u]):s[u];i[u]=e?merge_recursive(i[u],c):c}}return i}function typeOf(t){return{}.toString.call(t).slice(8,-1).toLowerCase()}var n=function(t){return merge(!0===t,!1,arguments)};n.recursive=function(t){return merge(!0===t,!0,arguments)},n.clone=function(t){var e,r,i=t,o=typeOf(t);if("array"===o)for(i=[],r=t.length,e=0;e<r;++e)i[e]=n.clone(t[e]);else if("object"===o){i={};for(e in t)i[e]=n.clone(t[e])}return i},e?t.exports=n:window.merge=n}("object"==typeof t&&t&&"object"==typeof t.exports&&t.exports)}).call(e,n(38)(t))},function(t,e,n){"use strict";function main(t){if(t)throw t;var e=new o(a);a.addStore(e),i.mount("justified-gallery",{store:e})}n(20);var r=n(8),i=n(0),o=n(19),a=n(5);n(17),n(14),n(11),n(12),n(16),n(13),n(15),r(["Array.prototype.find","Object.assign","Promise"],main)},function(t,e,n){"use strict";t.exports={GALLERY_INIT:"GALLERY_INIT",GALLERY_LOAD:"GALLERY_LOAD",GALLERY_LOADED:"GALLERY_LOADED",IMAGE_CLICK:"IMAGE_CLICK",IMG_ZOOM_IN:"IMG_ZOOM_IN",IMG_ZOOM_OUT:"IMG_ZOOM_OUT",WINDOW_RESIZE:"WINDOW_RESIZE",TRANSITION_END:"TRANSITION_END",SWITCH_IMAGE:"SWITCH_IMAGE",_stores:[],addStore:function(t){this._stores.push(t)},trigger:function(){var t=[].slice.call(arguments);this._stores.forEach(function(e){e.trigger.apply(null,t)})},on:function(t,e){this._stores.forEach(function(n){n.on(t,e)})},off:function(t,e){this._stores.forEach(function(n){e?n.off(t,e):n.off(t)})},one:function(t,e){this._stores.forEach(function(n){n.one(t,e)})}}},function(t,e,n){"use strict";var r=function(t){return/^file:\/\//i.test(t)},i=function(t){return t>=200&&t<300||304===t},o=function(t,e){return Object.assign(new Error(t),e)};t.exports=function(t,e){var n=new window.XMLHttpRequest,a=void 0,s=n.abort;n.abort=function(){return(a=!0)&&s.call(n)},n.open("GET",t,!0),n.onreadystatechange=function(){if(!a&&4===n.readyState)return i(n.status)||r(t)?e(!1,JSON.parse(n.responseText)):e(o("Server response: "+n.statusText,n))},n.onerror=function(t){return e(o("Request failed.",n))},n.send(null)}},function(t,e,n){"use strict";t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}},function(t,e,n){"use strict";function loadScript(t,e){var n=document.createElement("script");n.src=t,n.onload=function(){return e()},n.onerror=function(){return e(new URIError("Failed to load script "+t))},document.head.appendChild(n)}t.exports=function(t,e){if(t.some(r)){loadScript("https://polyfill.io/v2/polyfill.min.js?features="+t.filter(r).join(",")+"&flags=gated,always&ua=chrome/50",e)}else e()};var r=function(t){return"function"!=typeof t.split(".").reduce(function(t,e){return t[e]},window)}},function(t,e,n){"use strict";var r=function(t,e){return Array.prototype.find.call(t,e)},i=function(t,e){var n=-1;return r(e.cssRules,function(e,r){return!(!e.selectorText||e.selectorText.toLowerCase()!==t.toLowerCase())&&(n=r)}),n},o=function(t){var e=void 0,n=-1;return r(document.styleSheets,function(r){return-1!==(n=i(t,r))&&(e={sheet:r,index:n})}),e||null};t.exports={createStyleSheet:function(t){var e=document.createElement("style");return e.appendChild(document.createTextNode("")),e.media="screen",t&&(e.id=t),document.head.appendChild(e),e.sheet},getCSSRule:function(t,e){if(e)return e.cssRules[i(t,e)];var n=o(t);return n.sheet.cssRules[n.index]},deleteCSSRule:function(t,e){if(e)e.deleteRule(i(t,e));else{var n=o(t);n.sheet.deleteRule(n.index)}},addCSSRule:function(t,e){return e=e||document.styleSheets[0],e.cssRules[e.insertRule(t,e.cssRules.length)]},updateCSSRule:function(t,e){var n=t.match(/(.*?)(?= ?\{)/)[0];return this.deleteCSSRule(n,e),this.addCSSRule(t,e)}}},function(t,e,n){"use strict";t.exports={getDocumentHeight:function(){return Math.max(document.documentElement.scrollHeight,document.body.scrollHeight,document.documentElement.offsetHeight,document.body.offsetHeight,document.documentElement.clientHeight)},getWindowWidth:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},getWindowHeight:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},getPageYOffset:function(){return window.pageYOffset||("CSS1Compat"===document.compatMode?document.documentElement.scrollTop:document.body.scrollTop)},getElementYOffsetToDocumentTop:function(t){return t.getBoundingClientRect().top+this.getPageYOffset()}}},function(t,e,n){"use strict";n(30),n(21)},function(t,e,n){"use strict";n(31),n(22)},function(t,e,n){"use strict";n(32),n(23)},function(t,e,n){"use strict";n(24),n(33)},function(t,e,n){"use strict";n(34),n(25)},function(t,e,n){"use strict";n(35),n(26)},function(t,e,n){"use strict";n(36)},function(t,e,n){"use strict";function GalleryStore(t){var e=this;i.observable(this),this.CHANGED_EVENT="CHANGED_EVENT",this.dispatcher=t,this.config=o;var n=function(){e.trigger(e.CHANGED_EVENT)};this.one(t.GALLERY_INIT,function(){r(),a()}),this.on(t.GALLERY_LOAD,function(t){d(t)}),this.on(t.GALLERY_LOADED,function(){w(),n()}),this.on(t.WINDOW_RESIZE,function(){w(),e.isZoomIn&&t.trigger(t.IMG_ZOOM_OUT),n()}),this.on(t.IMAGE_CLICK,function(n){if(e.isZoomEnabled)return e.isZoomIn?t.trigger(t.IMG_ZOOM_OUT,n):t.trigger(t.IMG_ZOOM_IN,n)}),this.on(t.IMG_ZOOM_IN,function(t){x(),O(),T(p,t),n()}),this.on(t.IMG_ZOOM_OUT,function(t){T(h,t),n()}),this.on(t.TRANSITION_END,function(t){T(g,t),n()}),this.on(t.SWITCH_IMAGE,function(t){E(t)});var r=function(){e.width=o.width,R()},a=function(){e.routes=o.galleries.map(function(t){return t.dir}),i.route("/"+e.config.route+"/*",c),i.route.start(!0)},c=function(n){-1!==e.routes.indexOf(n)&&t.trigger(t.GALLERY_LOAD,n)},d=function(t){s("/assets/galleries/"+t+".json",v)},v=function(n,r){if(n)throw n;Object.assign(e,r),e.path=o.path+e.dir,e.zoomWidth=e.zoomWidth||o.zoomWidth,e.zoomHeight=e.zoomHeight||o.zoomHeight,t.trigger(t.GALLERY_LOADED)},w=function(){b(),e.computeBoxesLayout(),N()&&y()},b=function(){var t=u.getWindowWidth();e.width=o.width<t?o.width:t-30,e.clientHeight=u.getWindowHeight()},y=function(){var t=e.zoomBox={};t.width=e.zoomWidth<e.width?e.zoomWidth:e.width-20,t.height=e.zoomHeight<e.clientHeight?e.zoomHeight:e.clientHeight-40,t.top=(e.height-t.height)/2,t.left=(e.width-t.width)/2},x=function(){var t=u.getWindowHeight()<e.height?u.getWindowHeight():e.height;e.zoomBox.top=(t-e.zoomBox.height)/2+u.getPageYOffset()-10},E=function(n){var r=function(n){return t.trigger(t.IMG_ZOOM_IN,e.entries[n].id)},i=0;e.isZoomIn?(i=e.entries.findIndex(function(t){return t.id===e.zoomId}),t.trigger(t.IMG_ZOOM_OUT,e.zoomId),(i=n===m?++i:n===_?--i:0)>=0&&i<e.entries.length&&e.one(t.TRANSITION_END,function(){r(i)})):n===m&&r(i)},T=function(t,n){if(!(n=n||e.zoomId))return!1;var r=e.entries.find(function(t){return t.id===n});switch(t){case p:return e.zoomId=n,e.isZoomIn=!0,e.showModal=!0,r.toFront=!0,r.zoomIn=!0,!0;case h:return e.isZoomIn=!1,e.showModal=!1,r.zoomIn=!1,!0;case g:return e.isZoomIn||(r.toFront=!1,e.zoomId=null),!0;default:return console.error('Zoom types are: "IN", "OUT", "END".')}},R=function(){e.styleSheet=l({id:"this-styles"}),e.zoomCSSRule=f(".zoomin {}",e.styleSheet)},O=function(){for(var t in e.zoomBox)e.zoomCSSRule.style.setProperty(t,e.zoomBox[t]+"px","important")},N=function(){return(e.isZoomEnabled=e.width)>663}}Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=GalleryStore;var i=n(0),o=n(27),a=n(28),s=n(6),u=n(10),c=n(9),l=c.createStyleSheet,f=c.addCSSRule,d=n(1),p=d.IN,h=d.OUT,g=d.END,m=d.NEXT,_=d.PREV;GalleryStore.prototype.computeBoxesLayout=function(){var t=a(this.ratios,{containerWidth:this.width,fullWidthBreakoutRowCadence:this.fullWidthCadence});this.entries=this.entries.map(function(e,n){return r({},e,t.boxes[n],{idx:n,zoomIn:!1,toFront:!1})}),this.height=t.containerHeight},t.exports=e.default},function(t,e,n){"use strict";function PortfolioStore(t){r.call(this,t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=PortfolioStore;var r=n(18);n(7)(PortfolioStore,r),PortfolioStore.prototype.computeBoxesLayout=function(){this.ratios=5===this.entries.length&&this.width>=1055?[1.33,1.33,1.21,1.21,1.21]:[1.33,1.33,1.33,1.33,1.33],this.fullWidthCadence=5===this.entries.length&&this.width>663&&this.width<=875&&2,PortfolioStore.super_.prototype.computeBoxesLayout.call(this)},t.exports=e.default},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){t.exports={first:"Popular_Pensiones_2007",path:"/assets/galleries/",galleries:[{dir:"Muebles_Conceptuales",name:"Muebles Conceptuales"},{dir:"Popular_Pensiones_2004",name:"Popular Pensiones 2004"},{dir:"Popular_Pensiones_2007",name:"Popular Pensiones 2007"}],width:1060,zoomWidth:768,zoomHeight:576,fullWidthCadence:!1,route:"Proyecto",lang:"en"}},function(t,e,n){"use strict";function computeLayout(t){var e,n,r,i=[];return o.forceAspectRatio&&t.forEach(function(t){t.forcedAspectRatio=!0,t.aspectRatio=o.forceAspectRatio}),t.some(function(t,r){if(isNaN(t.aspectRatio))throw new Error("Item "+r+" has an invalid aspect ratio");if(n||(n=createNewRow()),e=n.addItem(t),n.isLayoutComplete()){if(i=i.concat(addRow(n)),a._rows.length>=o.maxNumRows)return n=null,!0;if(n=createNewRow(),!e&&(e=n.addItem(t),n.isLayoutComplete())){if(i=i.concat(addRow(n)),a._rows.length>=o.maxNumRows)return n=null,!0;n=createNewRow()}}}),n&&n.getItems().length&&o.showWidows&&(a._rows.length?(r=a._rows[a._rows.length-1].isBreakoutRow?a._rows[a._rows.length-1].targetRowHeight:a._rows[a._rows.length-1].height,n.forceComplete(!1,r)):n.forceComplete(!1),i=i.concat(addRow(n)),o._widowCount=n.getItems().length),a._containerHeight=a._containerHeight-o.boxSpacing.vertical,a._containerHeight=a._containerHeight+o.containerPadding.bottom,{containerHeight:a._containerHeight,widowCount:o._widowCount,boxes:a._layoutItems}}function createNewRow(){if(!1!==o.fullWidthBreakoutRowCadence&&(a._rows.length+1)%o.fullWidthBreakoutRowCadence==0)var t=!0;return new i({top:a._containerHeight,left:o.containerPadding.left,width:o.containerWidth-o.containerPadding.left-o.containerPadding.right,spacing:o.boxSpacing.horizontal,targetRowHeight:o.targetRowHeight,targetRowHeightTolerance:o.targetRowHeightTolerance,edgeCaseMinRowHeight:.5*o.targetRowHeight,edgeCaseMaxRowHeight:2*o.targetRowHeight,rightToLeft:!1,isBreakoutRow:t})}function addRow(t){return a._rows.push(t),a._layoutItems=a._layoutItems.concat(t.getItems()),a._containerHeight+=t.height+o.boxSpacing.vertical,t.items}var r=n(3),i=n(29),o={},a={};t.exports=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n={containerWidth:1060,containerPadding:10,boxSpacing:10,targetRowHeight:320,targetRowHeightTolerance:.25,maxNumRows:Number.POSITIVE_INFINITY,forceAspectRatio:!1,showWidows:!0,fullWidthBreakoutRowCadence:!1};o=r(n,e);var i={},s={};return i.top=isNaN(parseFloat(o.containerPadding.top))?o.containerPadding:o.containerPadding.top,i.right=isNaN(parseFloat(o.containerPadding.right))?o.containerPadding:o.containerPadding.right,i.bottom=isNaN(parseFloat(o.containerPadding.bottom))?o.containerPadding:o.containerPadding.bottom,i.left=isNaN(parseFloat(o.containerPadding.left))?o.containerPadding:o.containerPadding.left,s.horizontal=isNaN(parseFloat(o.boxSpacing.horizontal))?o.boxSpacing:o.boxSpacing.horizontal,s.vertical=isNaN(parseFloat(o.boxSpacing.vertical))?o.boxSpacing:o.boxSpacing.vertical,o.containerPadding=i,o.boxSpacing=s,a._layoutItems=[],a._awakeItems=[],a._inViewportItems=[],a._leadingOrphans=[],a._trailingOrphans=[],a._containerHeight=o.containerPadding.top,a._rows=[],a._orphans=[],o._widowCount=0,computeLayout(t.map(function(t){return t.width&&t.height?{aspectRatio:t.width/t.height}:{aspectRatio:t}}))}},function(t,e,n){"use strict";var r=n(3);(t.exports=function(t){this.top=t.top,this.left=t.left,this.width=t.width,this.spacing=t.spacing,this.targetRowHeight=t.targetRowHeight,this.targetRowHeightTolerance=t.targetRowHeightTolerance,this.minAspectRatio=this.width/t.targetRowHeight*(1-t.targetRowHeightTolerance),this.maxAspectRatio=this.width/t.targetRowHeight*(1+t.targetRowHeightTolerance),this.edgeCaseMinRowHeight=t.edgeCaseMinRowHeight,this.edgeCaseMaxRowHeight=t.edgeCaseMaxRowHeight,this.rightToLeft=t.rightToLeft,this.isBreakoutRow=t.isBreakoutRow,this.items=[],this.height=0}).prototype={addItem:function(t){var e,n,i,o=this.items.concat(t),a=this.width-(o.length-1)*this.spacing,s=o.reduce(function(t,e){return t+e.aspectRatio},0),u=a/this.targetRowHeight;return this.isBreakoutRow&&0===this.items.length&&t.aspectRatio>=1?(this.items.push(t),this.completeLayout(a/t.aspectRatio),!0):s<this.minAspectRatio?(this.items.push(r(t)),!0):s>this.maxAspectRatio?0===this.items.length?(this.items.push(r(t)),this.completeLayout(a/s),!0):(e=this.width-(this.items.length-1)*this.spacing,n=this.items.reduce(function(t,e){return t+e.aspectRatio},0),i=e/this.targetRowHeight,Math.abs(s-u)>Math.abs(n-i)?(this.completeLayout(e/n),!1):(this.items.push(r(t)),this.completeLayout(a/s),!0)):(this.items.push(r(t)),this.completeLayout(a/s),!0)},isLayoutComplete:function(){return this.height>0},completeLayout:function(t,e){var n,r,i,o,a,s,u=this.left,c=this.width-(this.items.length-1)*this.spacing,l=this;void 0===e&&(e=!0),r=Math.round(t),i=Math.max(this.edgeCaseMinRowHeight,Math.min(r,this.edgeCaseMaxRowHeight)),r!==i?(this.height=i,n=c/i/(c/r)):(this.height=r,n=1),this.items.forEach(function(t,e){t.top=l.top,t.width=Math.round(t.aspectRatio*l.height*n),t.height=l.height,t.left=u,u+=t.width+l.spacing}),e&&(u-=this.spacing+this.left,o=(u-this.width)/this.items.length,a=this.items.map(function(t,e){return Math.round((e+1)*o)}),1===this.items.length?(s=this.items[0],s.width-=Math.round(o)):this.items.forEach(function(t,e){e>0?(t.left-=a[e-1],t.width-=a[e]-a[e-1]):t.width-=a[e]}))},forceComplete:function(t,e){this.width,this.items.length,this.spacing,this.items.reduce(function(t,e){return t+e.aspectRatio},0),"number"==typeof e?this.completeLayout(e,!1):this.completeLayout(this.targetRowHeight,!1)},getItems:function(){return this.items}}},function(t,e,n){n(0).tag2("box",'<a href="{opts.zoom_enabled ? \'#\'+id : \'\'}" onclick="{click}" class="{opts.zoom_enabled ? \'zoom-cursor\' : \'\'}"> <img-comp runup="{img_comp.runup}" back="{opts.path}/{img_comp.back}" fore="{opts.path}/{img_comp.fore}"></img-comp></a>',"","",function(t){var e=this,r=(n(2),t.dispatcher);this.click=function(t){r.trigger(r.IMAGE_CLICK,e.id)}})},function(t,e,n){n(0).tag2("container",'<div data-is="box" each="{opts.entries}" id="{id}" riot-style="width: {width}px; height: {height}px; top: {top}px; left: {left}px" path="{parent.opts.path}" dispatcher="{parent.opts.dispatcher}" zoom_enabled="{parent.opts.zoom_enabled}" class=" {toFront ? \'tofront\' : \'\'} {zoomIn ? \'zoomin\' : \'\'}"></div>',"","",function(t){})},function(t,e,n){n(0).tag2("galleries-menu",'<ul> <li each="{opts.galleries}"><a href="#{parent.opts.route}/{dir}">{name}</a></li> </ul>',"","",function(t){})},function(t,e,n){n(0).tag2("img-comp",'<div class="image"><img id="runup" if="{!loaded}" riot-src="{opts.runup}" class="full blur"> <div id="texture" if="{!loaded}" class="full tl"></div><img id="back" riot-src="{opts.back}" class="fadein pos max border"><img id="fore" if="{opts.fore}" riot-src="{opts.fore}" class="fadein pos max"> </div>',"","",function(t){var e=this,n=function(){e.texture.classList.add("hide"),e.runup.classList.add("hide")};this.loaded=!1,this.back.addEventListener("animationend",function(){n(),e.loaded=!0},!1),this.root.addEventListener("click",function(){return n()})})},function(t,e,n){n(0).tag2("justified-gallery",'<galleries-menu galleries="{store.config.galleries}" route="{store.config.route}"></galleries-menu> <div data-is="container" riot-style="height: {store.height}px; width: {store.width}px;" entries="{store.entries}" path="{store.path}" dispatcher="{store.dispatcher}" zoom_enabled="{store.isZoomEnabled}"></div> <div id="desciption" riot-style="width: {store.width}px"> <h3 class="header">{store.name}</h3> <div data-is="raw" html="{store.desc[store.config.lang]}" class="body"></div> </div> <modal is_modal="{store.showModal}" zoom_id="{store.zoomId}" dispatcher="{store.dispatcher}"></modal>',"","",function(t){var e=this,r=n(2),i=n(1).PREV,o=n(1).NEXT,a=this.store=t.store,s=a.dispatcher,u={37:function(t){return t.trigger(t.SWITCH_IMAGE,i)},39:function(t){return t.trigger(t.SWITCH_IMAGE,o)},27:function(t){return t.trigger(t.IMG_ZOOM_OUT)}},c=function(t,e){return u[t]&&u[t](e)};s.trigger(s.GALLERY_INIT),a.on(a.CHANGED_EVENT,function(){return e.update()}),window.addEventListener("resize",r(function(t){return s.trigger(s.WINDOW_RESIZE,t)},200)),window.addEventListener("keydown",function(t){return c(t.keyCode,s)},!1)})},function(t,e,n){n(0).tag2("modal",'<div id="panel" onclick="{zoomOut}" class="modal {opts.is_modal ? \'show\' : \'\'}"></div>',"","",function(t){var e=t.dispatcher,r=n(2);this.root.addEventListener("transitionend",r(function(n){return!t.is_modal&&e.trigger(e.TRANSITION_END)},20),!1),this.zoomOut=function(){return e.trigger(e.IMG_ZOOM_OUT)}})},function(t,e,n){n(0).tag2("raw",'<div id="just" call="{this.setInnerHtml(this.opts.html)}"></div>',"","",function(t){var e=this;this.setInnerHtml=function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0];return e.root.innerHTML=t}})},function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){t.exports=n(4)}]);